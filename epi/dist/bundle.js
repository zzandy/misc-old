!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function r(t,e){return"number"==typeof e&&"number"==typeof t?Math.floor(t+Math.random()*(e-t)):"number"==typeof t?Math.floor(t*Math.random()):t instanceof Array?t[Math.floor(t.length*Math.random())]:Math.random()}Object.defineProperty(e,"__esModule",{value:!0}),e.rnd=r,e.array=function(t,e,n){const r=[];for(let s=0;s<e;++s){const e=[];for(let r=0;r<t;++r)e.push(n(s,r));r.push(e)}return r},e.shuffle=function(t){for(let e=t.length-1;e>0;--e){const n=r(e+1);[t[e],t[n]]=[t[n],t[e]]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0),s=2*Math.PI,i=Math.sin,o=Math.cos,a=Math.min,c=Math.max;class u{constructor(t,e){this.x=t,this.y=e}dist(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}add(t){return new u(this.x+t.x,this.y+t.y)}to(t){return new l(t.x-this.x,t.y-this.y)}clamp(t,e){return new u(c(a(t[1],this.x),t[0]),c(a(e[1],this.y),e[0]))}}e.Point=u,e.newRandomVector=function(t){const e=r.rnd(s);return new l(t*o(e),t*i(e))};class l{constructor(t,e){this.x=t,this.y=e}add(t){return new l(this.x+t.x,this.y+t.y)}times(t){return new l(this.x*t,this.y*t)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}get norm(){const t=this.length;return this.times(1/t)}}e.Vector=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),s=n(0),i=n(4),o=n(6),a=n(1);new r.Loop(1e3/24,(function(){return{render:new i.Render,repulsionIntensity:.02,repulsionRange:.05,contagionRange:.03,agents:s.array(750,1,t=>new o.Agent(new a.Point(s.rnd(),s.rnd()),a.newRandomVector(.002),s.rnd()<.02?.1:0))[0]}}),(function(t,e){const n=e.agents.map(t=>e.agents.filter(n=>n!=t&&t.pos.dist(n.pos)<e.repulsionRange).reduce((n,r)=>{0==t.progress&&r.progress>0&&s.rnd()<.1&&t.pos.dist(r.pos)<e.contagionRange&&(t.progress=.1);const i=r.pos.to(t.pos),o=(e.repulsionRange-i.length)/e.repulsionRange;return n.add(i.norm.times(o*o*e.repulsionIntensity))},t.vector));return e.agents.forEach((r,i)=>{r.progress>0&&r.progress<100&&(r.progress+=10*t/1e3),s.rnd()<.01&&(r.vector=a.newRandomVector(e.repulsionIntensity/10)),r.move(n[i])}),e}),(function(t,e){e.render.draw(e.agents)})).start()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Loop=class{constructor(t,e,n,r){this.fixedDelta=t,this.init=e,this.fixed=n,this.variable=r,this.isRunning=!1,this.fixedAccum=0}start(){if(this.isRunning)return;let t=this.init();this.isRunning=!0;let e=0;const n=r=>{const s=0==e,i=s?0:r-e;e=r,t=this.update(i,t,s),this.isRunning&&requestAnimationFrame(n)};requestAnimationFrame(n)}stop(){this.isRunning=!1}update(t,e,n=!1){let r=e;this.fixedAccum+=t;let s=!1;if(n)r=this.fixed(this.fixedDelta,r),s=!0;else for(;this.fixedAccum>this.fixedDelta;)this.fixedAccum-=this.fixedDelta,r=this.fixed(this.fixedDelta,r),s=!0;return s&&this.variable(t,r),r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5),s=n(1);e.Render=class{constructor(){const t=this.ctx=r.fullscreenCanvas();t.strokeStyle=t.fillStyle="#aaa",this.padding=new s.Vector(20,20),this.size=Math.min(t.canvas.width-2*this.padding.x,t.canvas.height-2*this.padding.y)}draw(t){const e=this.ctx;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.strokeRect(this.padding.x,this.padding.y,this.size,this.size);for(let n of t){e.fillStyle=n.progress>100?"green":n.progress>0?"red":"#aaa";const t=n.progress>0&&n.progress<100?5:3;e.fillCircle(this.padding.x+n.pos.x*this.size,this.padding.y+n.pos.y*this.size,t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvas=(t=!1)=>{const e=document.createElement("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,t||(e.style.position="absolute",e.style.top="0",e.style.left="0"),e},e.fullscreenCanvas3d=(t=!1)=>{const n=e.getCanvas(t),r=n.getContext("webgl");if(null==r)throw new Error("failed to get 'webgl' context");return document.body.appendChild(n),r},e.fullscreenCanvas=function(t=!1,n=!1){const r=e.getCanvas(t),s=r.getContext("2d",{alpha:!n});if(null==s)throw new Error("failed to get '2d' context");return s.clear=function(){return s.clearRect(0,0,s.canvas.width,s.canvas.height),s},s.makePath=function(t){s.beginPath(),s.moveTo(t[0],t[1]);for(var e=2;e<t.length;e+=2)s.lineTo(t[e],t[e+1]);return s.closePath(),s},s.strokeCircle=function(t,e,n){return s.beginPath(),s.arc(t,e,n,0,2*Math.PI,!0),s.closePath(),s.stroke(),s},s.fillCircle=function(t,e,n){return s.beginPath(),s.arc(t,e,n,0,2*Math.PI,!0),s.closePath(),s.fill(),s},document.body.style.margin="0",document.body.appendChild(r),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Agent=class{constructor(t,e,n=0){this.pos=t,this.vector=e,this.progress=n}move(t){this.pos=this.pos.add(t).clamp([0,1],[0,1])}}}]);