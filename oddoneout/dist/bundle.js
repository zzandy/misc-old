!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Director=t.sq32=t.shapeTypes=void 0;const o=n(5),i=n(6);t.shapeTypes=["heart","triangle","square","hex","circle","t2","h2","c","c2","s2","diamond","d2","bolt","cross","x","star","eq","pause","slash","sl2"],t.sq32=Math.sqrt(3)/2;const s=t.shapeTypes.map(e=>e),r={grid:[["c","c2"],["hex","h2"],["heart","d2"],["circle","c"],["circle","c2"],["triangle","d2"],["eq","pause"],["eq","square"],["square","pause","cross"],["square","slash","sl2"],["cross","x","diamond"]],rows:[["circle","h2"],["hex","s2"],["h2","s2"]],cols:[["circle","hex"],["t2","d2","heart"],["hex","s2"],["h2","s2"]]};function a(e,t,n){return"rows"==n&&"triangle"==t||"cols"==n&&"t2"==t}const l=["#dede0e","#fad000","#faa002","#e66102","#ed1515","#ea005e","#c80d66","#ff4fbc","#720C99","#0d5bc7","#079ebd","#88dfbb","#20cc10","#00954a","#fcfcfc"];function c(e,t){return"#dede0e"==e&&"#fad000"==t||"#dede0e"==t&&"#fad000"==e||"#ea005e"==e&&"#c80d66"==t||"#ea005e"==t&&"#c80d66"==e}function h(e,t,n,i,s=!1,r=(()=>!1)){if(i){const i=o.rnd(e);console.log(i,e);let s=0;const a=o.rnd(t);let l=a;for(;l==a||r(a,l,n);)l=o.rnd(t);return()=>s++==i?a:l}{const e=o.rnd(t);return s?()=>o.rnd(t):()=>e}}t.Director=class{constructor(e=1){this.aspect=e,this._shapes=null,this.size=12,this.orientation="grid",this.isNew=!0}makeShapes(){let e=o.rnd(["shape","shape","shape","shape","color","color","color","shading","size"]);this.orientation=o.rnd(["rows","cols","grid","grid","grid"]);const[n,d]=["rows"==this.orientation,"cols"==this.orientation],[u,f]=[n?1/t.sq32:1,d?1/t.sq32:1],T=this.size,[p,v]=this.aspect>1?[Math.round((1+(T-1)*u)*this.aspect),Math.round(1+(T-1)*f)]:[Math.round(1+(T-1)*u),Math.round((1+(T-1)*f)/this.aspect)],g=p*v;var b=[];let m=h(g,function(e){let t=r[e];return o.rnd()<Math.sqrt(t.length/s.length)/3?o.rnd(t):s}(this.orientation),this.orientation,"shape"==e,o.rnd()<.4&&"grid"==this.orientation,a),M=h(g,l,this.orientation,"color"==e,o.rnd()<.4,c),w=h(g,["solid","contour"],this.orientation,"shading"==e);const y=o.rnd()<.5;let x=h(g,"size"==e||o.rnd()<.2?[y,!y]:[!1],this.orientation,"size"==e);for(let e=0;e<v;++e){let e=[];for(let t=0;t<p;++t)e.push(new i.Shape(m(),M(),w(),x()));b.push(e)}return b}get shapes(){return null==this._shapes&&(this._shapes=this.makeShapes(),this.isNew=!0),this._shapes}regen(){this._shapes=null}grow(){this.size<30&&(this.size++,this.regen())}shrink(){this.size>2&&(this.size--,this.regen())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=n(3),s=n(0);new o.Loop(1e3/24,(function(){const e=new i.Render;let t={renderer:e,dir:new s.Director(e.aspect)};return addEventListener("keydown",()=>t.dir.regen()),addEventListener("mousedown",()=>t.dir.regen()),addEventListener("wheel",e=>{e.deltaY>0?t.dir.grow():t.dir.shrink()}),t}),(function(e,t){return t}),(function(e,t){const{dir:{shapes:n,isNew:o,orientation:i},renderer:s}=t;o&&(s.draw(n,i),t.dir.isNew=!1)})).start()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loop=void 0;t.Loop=class{constructor(e,t,n,o){this.fixedDelta=e,this.init=t,this.fixed=n,this.variable=o,this.isRunning=!1,this.fixedAccum=0}start(){if(this.isRunning)return;let e=this.init();this.isRunning=!0;let t=0;const n=o=>{const i=0==t,s=i?0:o-t;t=o,e=this.update(s,e,i),this.isRunning&&requestAnimationFrame(n)};requestAnimationFrame(n)}stop(){this.isRunning=!1}update(e,t,n=!1){let o=t;this.fixedAccum+=e;let i=!1;if(n)o=this.fixed(this.fixedDelta,o),i=!0;else for(;this.fixedAccum>this.fixedDelta;)this.fixedAccum-=this.fixedDelta,o=this.fixed(this.fixedDelta,o),i=!0;return i&&this.variable(e,o),o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;const o=n(4),i=n(0);t.Render=class{constructor(e=o.fullscreenCanvas()){this.ctx=e,this.aspect=e.canvas.width/e.canvas.height}draw(e,t){const n=this.ctx,{width:o,height:s}=n.canvas,[r,a]=["rows"==t,"cols"==t],l=r?i.sq32:1,c=a?i.sq32:1,h=!r&&a?.5:0,d=!a&&r?.5:0,[u,f]=[e[0].length,e.length],T=.1,p=1+(1.1*(u+h)-T-1)*l,v=1+(1.1*(f+d)-T-1)*c,g=p/v>this.aspect?(o-2*o*.01)/p:(s-2*s*.01)/v,b=1.1*g,[m,M]=[(o-p*g)/2,(s-v*g)/2];n.clearRect(0,0,o,s),n.save(),n.translate(m,M);for(let t=0;t<f;++t)for(let o=0;o<u;++o){n.save();let i=a?t%2==0?0:.5:0,s=r?o%2==0?0:.5:0;n.translate(l*b*(o+i),c*b*(t+s)),n.scale(g,g),n.lineWidth=.06,e[t][o].draw(n),n.restore()}n.restore()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullscreenCanvas=t.fullscreenCanvas3d=t.getCanvas=void 0,t.getCanvas=(e=!1)=>{const t=document.createElement("canvas");return t.width=window.innerWidth,t.height=window.innerHeight,e||(t.style.position="absolute",t.style.top="0",t.style.left="0"),t},t.fullscreenCanvas3d=(e=!1)=>{const n=t.getCanvas(e),o=n.getContext("webgl");if(null==o)throw new Error("failed to get 'webgl' context");return document.body.appendChild(n),o},t.fullscreenCanvas=function(e=!1,n=!1){const o=t.getCanvas(e),i=o.getContext("2d",{alpha:!n});if(null==i)throw new Error("failed to get '2d' context");return i.clear=function(){return i.clearRect(0,0,i.canvas.width,i.canvas.height),i},i.makePath=function(e){i.beginPath(),i.moveTo(e[0],e[1]);for(var t=2;t<e.length;t+=2)i.lineTo(e[t],e[t+1]);return i.closePath(),i},i.strokeCircle=function(e,t,n){return i.beginPath(),i.arc(e,t,n,0,2*Math.PI,!0),i.closePath(),i.stroke(),i},i.fillCircle=function(e,t,n){return i.beginPath(),i.arc(e,t,n,0,2*Math.PI,!0),i.closePath(),i.fill(),i},document.body.style.margin="0",document.body.appendChild(o),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rnd=void 0,t.rnd=function(e,t,n){return void 0!==e&&void 0!==t?void 0!==n?t+(e-t)*Math.random():"boolean"==typeof t?e*Math.random():t+(e-t)*Math.random()|0:void 0!==e&&void 0===t?e instanceof Array?e[Math.random()*e.length|0]:e*Math.random()|0:Math.random()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=void 0;const o=2*Math.PI;t.Shape=class{constructor(e,t,n,o){this.type=e,this.color=t,this.shading=n,this.small=o}draw(e){e.fillStyle=e.strokeStyle=this.color,e.translate(.5,.5),this.small&&(e.scale(.666,.666),e.lineWidth*=1.5),"solid"!=this.shading&&e.scale(.95,.95),this.path(e),"contour"!=this.shading&&e.fill(),"solid"!=this.shading&&e.stroke()}path(e){e.beginPath();const t=.1,n=.3,i=.55,s=.5,r=.62;switch(this.type){case"circle":e.arc(0,0,.5,0,o);break;case"triangle":for(let t=0;t<3;++t){let n=o/3*t;0==t?e.moveTo(r*Math.sin(n),r*Math.cos(n)-.2):e.lineTo(r*Math.sin(n),r*Math.cos(n)-.2)}break;case"t2":for(let t=0;t<3;++t){let n=o/3*t+o/6;0==t?e.moveTo(r*Math.sin(n),.2+r*Math.cos(n)):e.lineTo(r*Math.sin(n),.2+r*Math.cos(n))}break;case"hex":for(let t=0;t<6;++t){let n=o/6*t;0==t?e.moveTo(s*Math.sin(n),s*Math.cos(n)):e.lineTo(s*Math.sin(n),s*Math.cos(n))}break;case"h2":for(let t=0;t<6;++t){let n=o/6*t+o/12;0==t?e.moveTo(s*Math.sin(n),s*Math.cos(n)):e.lineTo(s*Math.sin(n),s*Math.cos(n))}break;case"square":e.moveTo(-.45,-.45),e.lineTo(-.45,.45),e.lineTo(.45,.45),e.lineTo(.45,-.45);break;case"c":e.moveTo(-.1,0),e.arc(0,0,.5,t*o,.9*o);break;case"c2":e.moveTo(.1,0),e.arc(0,0,.5,.4*o,.6*o,!0);break;case"diamond":e.moveTo(0,-i),e.lineTo(i,0),e.lineTo(0,i),e.lineTo(-i,0);break;case"x":const a=.25,l=.5-a;e.moveTo(0,-a),e.lineTo(l,-.5),e.lineTo(.5,-l),e.lineTo(a,0),e.lineTo(.5,l),e.lineTo(l,.5),e.lineTo(0,a),e.lineTo(-l,.5),e.lineTo(-.5,l),e.lineTo(-a,0),e.lineTo(-.5,-l),e.lineTo(-l,-.5);break;case"cross":const c=.2;e.moveTo(-c,-.5),e.lineTo(c,-.5),e.lineTo(c,-c),e.lineTo(.5,-c),e.lineTo(.5,c),e.lineTo(c,c),e.lineTo(c,.5),e.lineTo(-c,.5),e.lineTo(-c,c),e.lineTo(-.5,c),e.lineTo(-.5,-c),e.lineTo(-c,-c);break;case"star":for(let t=0;t<5;++t){let s=o/10+o/5*t,r=o/5*t;0==t?e.moveTo(n*Math.sin(r),n*Math.cos(r)):e.lineTo(n*Math.sin(r),n*Math.cos(r)),e.lineTo(i*Math.sin(s),i*Math.cos(s))}break;case"s2":for(let t=0;t<6;++t){let s=o/6*t,r=o/6*t-o/12;0==t?e.moveTo(n*Math.sin(r),n*Math.cos(r)):e.lineTo(n*Math.sin(r),n*Math.cos(r)),e.lineTo(i*Math.sin(s),i*Math.cos(s))}break;case"heart":const h=.6,d=h/Math.sqrt(2),u=.05;e.moveTo(d,u),e.lineTo(0,u+d),e.lineTo(0-d,u),e.arc(-d/2,u-d/2,h/2,3*o/8,7*o/8),e.arc(d/2,u-d/2,h/2,5*o/8,o/8);break;case"eq":e.moveTo(-.45,-.35),e.lineTo(.45,-.35),e.lineTo(.45,-.05),e.lineTo(-.45,-.05),e.closePath(),e.moveTo(-.45,.05),e.lineTo(.45,.05),e.lineTo(.45,.35),e.lineTo(-.45,.35);break;case"pause":e.moveTo(-.35,-.45),e.lineTo(-.35,.45),e.lineTo(-.05,.45),e.lineTo(-.05,-.45),e.closePath(),e.moveTo(.05,-.45),e.lineTo(.05,.45),e.lineTo(.35,.45),e.lineTo(.35,-.45);break;case"slash":e.moveTo(.1,.45),e.lineTo(.45,-.45),e.lineTo(-.1,-.45),e.lineTo(-.45,.45);break;case"sl2":e.moveTo(.45,.45),e.lineTo(.1,-.45),e.lineTo(-.45,-.45),e.lineTo(-.1,.45);break;case"d2":e.moveTo(0,.5),e.lineTo(.5,-.2),e.lineTo(.3,-.45),e.lineTo(-.3,-.45),e.lineTo(-.5,-.2);break;case"bolt":e.moveTo(.1,.6),e.lineTo(0,.1),e.lineTo(.35,.2),e.lineTo(.2,-.45),e.lineTo(-.2,-.45),e.lineTo(0,-.05),e.lineTo(-.4,-.15)}e.closePath()}}}]);